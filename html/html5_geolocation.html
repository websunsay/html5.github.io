<!DOCTYPE html>
<html lang="uk">
<head>
    <title>HTML5. Geolocation. Геолокація. W3schools українською. Уроки для початківців</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="keywords" content="HTML,CSS,уроки,для початківців,html5,geolocation,геолокація,елементи,теги,w3schools,українською,мовою" />
    <meta name="description" content="Урок 51. HTML5. Геолокація. Що таке геолокація на веб-сайті? Визначення місця розташування користувача. W3Schools українською. Підручник для початківців" />
    <link rel="icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="../styles/style.css" />
    <link rel="stylesheet" href="../styles/ws.css" />
    <link rel="stylesheet" href="../styles/handheld.css" />
    <link rel="stylesheet" type="text/css" href="../styles/browserref.css">
    <link rel="canonical" href="https://websunsay.github.io/" />
    <meta property="og:title" content="HTML5. Geolocation. Геолокація. W3schools українською. Уроки для початківців" />
    <meta property="og:type" content="веб-сайт" /> <!--описывает тип объекта на странице-->
    <meta property="og:url" content="https://websunsay.github.io/" /><!--адрес сайта-->
    <meta property="og:image" content="../image/html5_64x64.png" /><!--адрес картинки-->
    <meta property="og:description" content="Урок 51. HTML5. Геолокація. Що таке геолокація на веб-сайті? Визначення місця розташування користувача. W3Schools українською. Підручник для початківців" />
    <meta property="og:locale" content="uk" /> <!--мова сайту-->
    <meta property="og:site_name" content="WebSunSay - W3Schools українською - Основи HTML, CSS, JavaScript, PHP для початківців" />
    <script src="../js/topnav.js"></script>
</head>
<body>
<iframe src="../pages/header.html" class="frame-header"></iframe>
<main>
    <div class="left-sidebar">
        <iframe src="../pages/basichtml.html" class="frame-left-sidebar"></iframe>
    </div>
    <!-- CONTENT -->
    <div class="content">
        <h1>HTML5. Геолокація</h1>
        <p class="brief"><strong>Курс по основам HTML | CSS. W3Schools українською. Уроки для початківців</strong></p>
        <hr>
        <!-- buttons prev - next -->
        <div class="w3-clear nextprev">
            <a class="w3-left w3-btn" href="html_youtube.html" title="Попередня сторінка" rel="prev">❮ Prev</a>
            <a class="w3-right w3-btn" href="html5_draganddrop.html" title="Наступна сторінка" rel="next">Next ❯</a>
        </div>
        <!-- / buttons prev - next -->
        <hr>
        <p class="intro" id="demo">API геолокації HTML використовується для визначення місця розташування користувача.</p>
        <p><button class="w3-btn w3-blue" onclick="getLocation()">Спробуй це</button></p>
        <div id="mapholder"></div>
        <script src="https://maps.google.com/maps/api/js?key=AIzaSyBu-916DdpKAjTmJNIgngS6HL_kDIKU0aU"></script>
        <script>
            var x=document.getElementById("demo");
            function getLocation()
            {
                if (navigator.geolocation)
                {
                    navigator.geolocation.getCurrentPosition(showPosition,showError);
                }
                else{x.innerHTML="Цей веб-браузер не підтримує геолокацію.";}
            }

            function showPosition(position)
            {
                var lat=position.coords.latitude;
                var lon=position.coords.longitude;
                var latlon=new google.maps.LatLng(lat, lon)
                var mapholder=document.getElementById('mapholder')
                mapholder.style.height='250px';
                mapholder.style.width='100%';
                var myOptions={
                    center:latlon,zoom:14,
                    mapTypeId:google.maps.MapTypeId.ROADMAP,
                    mapTypeControl:false,
                    navigationControlOptions:{style:google.maps.NavigationControlStyle.SMALL}
                };
                var map=new google.maps.Map(document.getElementById("mapholder"),myOptions);
                var marker=new google.maps.Marker({position:latlon,map:map,title:"You are here!"});
            }
            function showError(error)
            {
                switch(error.code)
                {
                    case error.PERMISSION_DENIED:
                        x.innerHTML="Користувач відхилив запит на геолокацію."
                        break;
                    case error.POSITION_UNAVAILABLE:
                        x.innerHTML="Інформація про місцезнаходження недоступна."
                        break;
                    case error.TIMEOUT:
                        x.innerHTML="Час очікування запиту на отримання місцезнаходження користувача закінчується."
                        break;
                    case error.UNKNOWN_ERROR:
                        x.innerHTML="Сталася невідома помилка."
                        break;
                }
            }
        </script>
        <hr>
        <h2>Знайдіть позицію користувача</h2>
        <p>API геолокації HTML використовується для отримання географічного положення користувача.</p>
        <p>Оскільки це може порушити конфіденційність, позиція недоступна до тих пір, поки користувач не схвалить її.</p>
        <div class="w3-panel w3-note">
            <p><strong>Примітка:</strong><b> </b>Геолокація є найбільш точною для пристроїв з GPS, таких як смартфон.</p>
        </div>
        <hr>
        <h2>Підтримка браузерами</h2>
        <p>Цифри в таблиці визначають першу версію браузера, яка повністю підтримує геолокацію.</p>
        <table class="browserref notranslate">
            <tbody><tr>
                <th style="width:20%;font-size:16px;text-align:left;">API</th>
                <th style="width:16%;" class="bsChrome" title="Chrome"></th>
                <th style="width:16%;" class="bsEdge" title="Internet Explorer / Edge"></th>
                <th style="width:16%;" class="bsFirefox" title="Firefox"></th>
                <th style="width:16%;" class="bsSafari" title="Safari"></th>
                <th style="width:16%;" class="bsOpera" title="Opera"></th>
            </tr>
            <tr>
                <td style="text-align:left;">Geolocation</td>
                <td>5.0 - 49.0 (http)<br>50.0 (https)</td>
                <td>9.0</td>
                <td>3.5</td>
                <td>5.0</td>
                <td>16.0</td>
            </tr>
            </tbody>
        </table>
        <div class="w3-panel w3-note">
            <p><strong>Примітка:</strong> Починаючи з Chrome 50, API Геолокація працюватиме лише при безпечному з'єднанні, такому як HTTPS. Якщо ваш сайт розміщено на незахищеному джерелі (наприклад, HTTP), запити на отримання місця розташування користувачів більше не будуть функціонувати.</p>
        </div>
        <hr>
        <h2>Використання HTML Геолокації</h2>
        <p>Метод <code class="w3-codespan">getCurrentPosition()</code> використовується для повернення позиції користувача.</p>
        <p>Наведений нижче приклад повертає широту та довготу позиції користувача:</p>
        <div class="w3-example">
            <h3>Приклад:</h3>
            <div class="w3-code notranslate htmlHigh">
                <span class="tagnamecolor" style="color:brown"><span class="tagcolor" style="color:mediumblue">&lt;</span>script<span class="tagcolor" style="color:mediumblue">&gt;</span></span><span class="jscolor" style="color:black"><br><span class="jskeywordcolor" style="color:mediumblue">var</span> x = document.<span class="jspropertycolor" style="color:black">getElementById</span>(<span class="jsstringcolor" style="color:brown">"demo"</span>);<br><span class="jskeywordcolor" style="color:mediumblue">function</span> getLocation() {<br>&nbsp;&nbsp;<span class="jskeywordcolor" style="color:mediumblue">if</span> (navigator.<span class="jspropertycolor" style="color:black">geolocation</span>) {<br><span class="jsnumbercolor" style="color:red">
</span>  &nbsp;&nbsp;&nbsp; navigator.<span class="jspropertycolor" style="color:black">geolocation</span>.<span class="jspropertycolor" style="color:black">getCurrentPosition</span>(showPosition);<br>&nbsp;&nbsp;} <span class="jskeywordcolor" style="color:mediumblue">else</span> {<br><span class="jsnumbercolor" style="color:red">
</span>  &nbsp;&nbsp;&nbsp; x.<span class="jspropertycolor" style="color:black">innerHTML</span> = <span class="jsstringcolor" style="color:brown">"Geolocation is not supported by this browser."</span>;<br><span class="jsnumbercolor" style="color:red">
</span>  &nbsp;&nbsp;}<br>}<br><br><span class="jsnumbercolor" style="color:red">
</span> <span class="jskeywordcolor" style="color:mediumblue">function</span> showPosition(position) {<br>&nbsp; x.<span class="jspropertycolor" style="color:black">innerHTML</span> = <span class="jsstringcolor" style="color:brown">"Latitude: "</span> + position.<span class="jspropertycolor" style="color:black">coords</span>.<span class="jspropertycolor" style="color:black">latitude</span> + <br>&nbsp;&nbsp;<span class="jsstringcolor" style="color:brown">"&lt;br&gt;Longitude: "</span> + position.<span class="jspropertycolor" style="color:black">coords</span>.<span class="jspropertycolor" style="color:black">longitude</span>; <br><span class="jsnumbercolor" style="color:red">
</span> }<br></span><span class="tagnamecolor" style="color:brown"><span class="tagcolor" style="color:mediumblue">&lt;</span>/script<span class="tagcolor" style="color:mediumblue">&gt;</span></span> </div>
            <a class="w3-btn w3-margin-bottom" href="https://www.w3schools.com/html/tryit.asp?filename=tryhtml5_geolocation" target="_blank" rel="nofollow">Спробуйте самі »</a>
        </div>
        <p>Пояснення прикладу:</p>
        <ul>
            <li>Перевіряємо, чи підтримується геолокація;</li>
            <li>Якщо підтримується, запускаємо метод getCurrentPosition(). Якщо ні, відображаємо повідомлення користувачеві;</li>
            <li>Якщо метод getCurrentPosition() успішний, він повертає об'єкт координат до функції, зазначеної в параметрі (showPosition);</li>
            <li>Функція showPosition() виводить широту і довготу.</li>
        </ul>
        <p>Наведений вище приклад є дуже простим базовим сценарієм геолокації без обробки помилок.</p>
        <hr>
        <h2>Обробка помилок і відмов</h2>
        <p>Другий параметр методу <code class="w3-codespan">getCurrentPosition()</code> використовується для обробки помилок. Він визначає функцію для запуску, якщо не вдалося отримати місцезнаходження користувача:</p>
        <div class="w3-example">
            <h3>Приклад:</h3>
            <div class="w3-code notranslate jsHigh"><span class="jscolor" style="color:black"><span class="jsnumbercolor" style="color:red">
</span> <span class="jskeywordcolor" style="color:mediumblue">function</span> showError(error) {<br>&nbsp;&nbsp;<span class="jskeywordcolor" style="color:mediumblue">switch</span>(error.<span class="jspropertycolor" style="color:black">code</span>) {<br>&nbsp;&nbsp;&nbsp; <span class="jskeywordcolor" style="color:mediumblue">case</span> error.<span class="jspropertycolor" style="color:black">PERMISSION_DENIED</span>:<br><span class="jsnumbercolor" style="color:red">
</span>  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; x.<span class="jspropertycolor" style="color:black">innerHTML</span> = <span class="jsstringcolor" style="color:brown">"User denied the request for Geolocation."</span><br><span class="jsnumbercolor" style="color:red">
</span>  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="jskeywordcolor" style="color:mediumblue">break</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="jskeywordcolor" style="color:mediumblue">case</span> error.<span class="jspropertycolor" style="color:black">POSITION_UNAVAILABLE</span>:<br><span class="jsnumbercolor" style="color:red">
</span>  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; x.<span class="jspropertycolor" style="color:black">innerHTML</span> = <span class="jsstringcolor" style="color:brown">"Location information is unavailable."</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="jskeywordcolor" style="color:mediumblue">break</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="jskeywordcolor" style="color:mediumblue">case</span> error.<span class="jspropertycolor" style="color:black">TIMEOUT</span>:<br><span class="jsnumbercolor" style="color:red">
</span>  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; x.<span class="jspropertycolor" style="color:black">innerHTML</span> = <span class="jsstringcolor" style="color:brown">"The request to get user location timed out."</span><br><span class="jsnumbercolor" style="color:red">
</span>  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="jskeywordcolor" style="color:mediumblue">break</span>;<br>&nbsp;&nbsp;&nbsp; <span class="jskeywordcolor" style="color:mediumblue">case</span> error.<span class="jspropertycolor" style="color:black">UNKNOWN_ERROR</span>:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x.<span class="jspropertycolor" style="color:black">innerHTML</span> = <span class="jsstringcolor" style="color:brown">"An unknown error occurred."</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="jskeywordcolor" style="color:mediumblue">break</span>;<br><span class="jsnumbercolor" style="color:red">
</span>  &nbsp;&nbsp;}<br><span class="jsnumbercolor" style="color:red">
</span> } </span></div>
            <a class="w3-btn w3-margin-bottom" href="https://www.w3schools.com/html/tryit.asp?filename=tryhtml5_geolocation_error" target="_blank" rel="nofollow">Спробуйте самі »</a>
        </div>
        <hr>
        <h2>Відображення результату на карті</h2>
        <p>Щоб відобразити результат на карті, потрібен доступ до сервісу карт, наприклад, до Карт Google.</p>
        <p>У наведеному нижче прикладі повернута широта і довгота використовується для відображення розташування на карті Google (за допомогою статичного зображення):</p>
        <div class="w3-example">
            <h3>Приклад:</h3>
            <div class="w3-code notranslate jsHigh"><span class="jscolor" style="color:black"><span class="jsnumbercolor" style="color:red">
</span> <span class="jskeywordcolor" style="color:mediumblue">function</span> showPosition(position) {<br>&nbsp;&nbsp;<span class="jskeywordcolor" style="color:mediumblue">var</span> latlon = position.<span class="jspropertycolor" style="color:black">coords</span>.<span class="jspropertycolor" style="color:black">latitude</span> + <span class="jsstringcolor" style="color:brown">","</span> + position.<span class="jspropertycolor" style="color:black">coords</span>.<span class="jspropertycolor" style="color:black">longitude</span>;<br><br>&nbsp;&nbsp;<span class="jskeywordcolor" style="color:mediumblue">var</span> img_url = <span class="jsstringcolor" style="color:brown">"https://maps.googleapis.com/maps/api/staticmap?center=<br>
 &nbsp;&nbsp;"</span>+latlon+<span class="jsstringcolor" style="color:brown">"&amp;zoom=14&amp;size=400x300&amp;sensor=false&amp;key=YOUR_:KEY"</span>;<br><br><span class="jsnumbercolor" style="color:red">
</span> &nbsp;&nbsp;document.<span class="jspropertycolor" style="color:black">getElementById</span>(<span class="jsstringcolor" style="color:brown">"mapholder"</span>).<span class="jspropertycolor" style="color:black">innerHTML</span> = <span class="jsstringcolor" style="color:brown">"&lt;img src='"</span>+img_url+<span class="jsstringcolor" style="color:brown">"'&gt;"</span>;<br><span class="jsnumbercolor" style="color:red">
</span> }<br> </span></div>
            <a class="w3-btn w3-margin-bottom" href="https://www.w3schools.com/html/tryit.asp?filename=tryhtml5_geolocation_map" target="_blank" rel="nofollow">Спробуйте самі &raquo;</a>
        </div>
        <!--
        <p><a href="https://www.w3schools.com/html/tryit.asp?filename=tryhtml5_geolocation_map_script" target="_blank">Google Map Script</a><br>
            Як показати інтерактивну карту Google за допомогою маркера, параметрів масштабування та перетягування.</p>
            -->
        <hr>

        <h2>Інформація, що стосується місцезнаходження</h2>
        <p>На цій сторінці показано, як відобразити позицію користувача на карті.</p>
        <p>Геолокація також дуже корисна для конкретної інформації про місцезнаходження, наприклад:</p>
        <ul>
            <li>Актуальна місцева інформація</li>
            <li>Показ цікавих місць біля користувача</li>
            <li>Покрокова навігація (GPS)</li>
        </ul>
        <hr>
        <h2>Метод <i>getCurrentPosition()</i> - повернення даних</h2>
        <p>Метод <code class="w3-codespan">getCurrentPosition()</code> повертає об'єкт у випадку успіху. Властивості широти, довготи та точності завжди повертаються. Інші властивості повертаються, якщо доступні:</p>
        <table class="w3-table-all notranslate">
            <tbody><tr>
                <th style="width:150px">Властивість</th>
                <th>Повернення</th>
            </tr>
            <tr>
                <td>coords.latitude</td>
                <td>Широта як десяткове число (завжди повертається)</td>
            </tr>
            <tr>
                <td>coords.longitude</td>
                <td>Довгота як десяткове число (завжди повертається)</td>
            </tr>
            <tr>
                <td>coords.accuracy</td>
                <td>Точність позиції (завжди повертається)</td>
            </tr>
            <tr>
                <td>coords.altitude</td>
                <td>Висота в метрах вище середнього рівня моря (повертається, якщо є)</td>
            </tr>
            <tr>
                <td>coords.altitudeAccuracy</td>
                <td>Точність позиції висоти (повертається, якщо доступна)</td>
            </tr>
            <tr>
                <td>coords.heading</td>
                <td>Напрямок в градусах за годинниковою стрілкою від Півночі (повертається, якщо доступно)</td>
            </tr>
            <tr>
                <td>coords.speed</td>
                <td>Швидкість у метрах в секунду (повертається, якщо доступно)</td>
            </tr>
            <tr>
                <td>timestamp</td>
                <td>Дата/час відповіді (повертається, якщо доступно)</td>
            </tr>
            </tbody>
        </table>
        <hr>
        <h2>Об'єкт геолокації - інші цікаві методи</h2>
        <p>Об'єкт геолокації також має інші цікаві методи:</p>
        <ul>
            <li><code class="w3-codespan">watchPosition()</code> - Повертає поточну позицію користувача та продовжує повертати оновлену позицію, коли користувач переміщується (наприклад, GPS в автомобілі).</li>
            <li><code class="w3-codespan">clearWatch()</code> - зупиняє метод <code class="w3-codespan">watchPosition()</code>.</li>
        </ul>
        <p>Наведений нижче приклад показує метод <code class="w3-codespan">watchPosition()</code>. Для тестування потрібний точний пристрій GPS (наприклад, смартфон): </p>
        <div class="w3-example">
            <h3>Приклад:</h3>
            <div class="w3-code notranslate htmlHigh">
                <span class="tagnamecolor" style="color:brown"><span class="tagcolor" style="color:mediumblue">&lt;</span>script<span class="tagcolor" style="color:mediumblue">&gt;</span></span><span class="jscolor" style="color:black"><br><span class="jskeywordcolor" style="color:mediumblue">var</span> x = document.<span class="jspropertycolor" style="color:black">getElementById</span>(<span class="jsstringcolor" style="color:brown">"demo"</span>);<br><span class="jskeywordcolor" style="color:mediumblue">function</span> getLocation() {<br><span class="jsnumbercolor" style="color:red">
</span>  &nbsp; <span class="jskeywordcolor" style="color:mediumblue">if</span> (navigator.<span class="jspropertycolor" style="color:black">geolocation</span>) {<br>&nbsp;&nbsp;&nbsp; navigator.<span class="jspropertycolor" style="color:black">geolocation</span>.<span class="jspropertycolor" style="color:black">watchPosition</span>(showPosition);<br>&nbsp;&nbsp;} <span class="jskeywordcolor" style="color:mediumblue">else</span> {<br><span class="jsnumbercolor" style="color:red">
</span>  &nbsp;&nbsp;&nbsp; x.<span class="jspropertycolor" style="color:black">innerHTML</span> = <span class="jsstringcolor" style="color:brown">"Geolocation is not supported by this browser."</span>;<br><span class="jsnumbercolor" style="color:red">
</span>  &nbsp;&nbsp;}<br>}<br><span class="jsnumbercolor" style="color:red">
</span> <span class="jskeywordcolor" style="color:mediumblue">function</span> showPosition(position) {<br>&nbsp; x.<span class="jspropertycolor" style="color:black">innerHTML</span> = <span class="jsstringcolor" style="color:brown">"Latitude: "</span> + position.<span class="jspropertycolor" style="color:black">coords</span>.<span class="jspropertycolor" style="color:black">latitude</span> + <br>&nbsp;&nbsp;<span class="jsstringcolor" style="color:brown">"&lt;br&gt;Longitude: "</span> + position.<span class="jspropertycolor" style="color:black">coords</span>.<span class="jspropertycolor" style="color:black">longitude</span>; <br><span class="jsnumbercolor" style="color:red">
</span> }<br></span><span class="tagnamecolor" style="color:brown"><span class="tagcolor" style="color:mediumblue">&lt;</span>/script<span class="tagcolor" style="color:mediumblue">&gt;</span></span> </div>
            <a class="w3-btn w3-margin-bottom" href="https://www.w3schools.com/html/tryit.asp?filename=tryhtml5_geolocation_watchposition" target="_blank">Спробуйте самі »</a>
        </div>
        <hr>
        <!-- buttons prev - next -->
        <div class="w3-clear nextprev">
            <a class="w3-left w3-btn" href="html_youtube.html" title="Попередня сторінка" rel="prev">❮ Prev</a>
            <a class="w3-right w3-btn" href="html5_draganddrop.html" title="Наступна сторінка" rel="next">Next ❯</a>
        </div>
        <!-- / buttons prev - next -->
        <hr class="hr-bottom">
        <img src="../svg/warning_black.svg" alt="warning" width="30" class="img-left"><p class="note-warning"><b>Не викладайте</b> свій код безпосередньо в коментарях, він відображається некоректно. Скористайтесь такими сервісами, як <a href="https://jsfiddle.net/" target="_blank" rel="nofollow">jsfiddle.net</a>, <a href="https://codepen.io/pen/tour/welcome/start" target="_blank" rel="nofollow">codepen.io</a>, <a href="https://liveweave.com/" target="_blank" rel="nofollow">liveweave.com</a>, <a href="https://jsbin.com/?html,css,output" target="_blank" rel="nofollow">jsbin.com</a>, збережіть код на будь-якому з цих сервісів і в коментарях дайте на нього посилання. Так буде видно і код, і результат.</p>
        <!-- Коментарі від Disqus -->
        <div id="disqus_thread"></div>
        <script>
            var disqus_config = function () {
                this.page.url = websunsay.github.io;  // канонічний URL сторінки
                this.page.identifier = websunsay.github.io/html/html5_geolocation.html; // унікальний ідентифікатор сторінки
            };
            (function() { // Не редагувати нижче цієї лінії
                var d = document, s = d.createElement('script');
                s.src = 'https://https-websunsay-github-io.disqus.com/embed.js';
                s.setAttribute('data-timestamp', +new Date());
                (d.head || d.body).appendChild(s);
            })();
        </script>
        <noscript>Будь ласка, увімкніть JavaScript для перегляду <a href="https://disqus.com/?ref_noscript">коментарів на основі Disqus.</a></noscript>
        <!-- / Коментарі від Disqus -->
    </div>
    <!-- / CONTENT -->
    <div class="right-sidebar">
        <iframe src="../pages/source.html" class="frame-right-sidebar"></iframe>
    </div>
</main>
<footer>
    <iframe src="../pages/footer.html" class="frame-footer"></iframe>
</footer>
</body>
</html>